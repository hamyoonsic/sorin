http
클라이언트에서 서버로 요청을 보냄
방식이 있다
request 에다가 이 리퀘스트는 어떤 리퀘스트인지 get, post, put, delete,  / patch
리퀘스트의 성격을 나타냄
get = 조회
post = 등록
put= 업데이트
delete = 삭제

http로 서버에 요청을 던질때 method라는 옵션으로 리퀘스트의 방식을 같이 넘겨주는 것
--

보안상 get 조회라는건 별로 문제가 없다
등록, 수정, 삭제는 권한이 꼭 필요하다


서버에서는 session만 체크함

--

어떤 사람이 다음사이트에 로그인 했다
그래서 사람a 는 세션을 하나 가지고 있다

해커b 는 다음사이트에 미끼글을 올린다
10만원짜리 캠핑용품이 만원입니다~
그리고 악성코드를 깔아둠
자바스크립트로 자동으로 결제되도록 url을 숨겨서 둠

그럼 a사람은 미끼글을 클릭한 순간 url요청을 하게 되는것
즉 세션을 가진 사람이 정당한 url을 타고 서버에 들어가는 것

다음사이트입장에서는 로그인도 되어있고 세션도가지고있고 결제처리해줌

--

이런 행위를 막기위해 필요한게 CSRF

--

CSRF  = 토큰  (토큰이란 - 옜날엔 버스를 탈때 토큰을 냄) = 어떤 행위를 할때 권리에 대한 ~~ 토큰 가진 사람만 뭔가 행위를 할 수 있다


사람A가 페이지이동하면 로그인하면 토큰이 생성되는 것
정당한 클릭을 할 경우 토큰이 같이 날라감

그럼 다음사이트에서는 요청이 오면 토큰을 먼저 확인함 있는지없는지

--

스프링시큐리티에서 CSRF옵션을 true로 해서 사용할 수 있다.
스프링폼을 사용하면 자동으로 토큰만들어서
